# fi-transfer-ex3 2 агрегата
Пример решения задачи [Перевод ценных бумаг между счетами с предварительным резервированием средств](../doc/fi-transfer.md). Копия решения fi-transfer-ex2, но тут FiTechBlock вынесен в отдельный агрегат.

Такой вариант предпочтителен, если у счета может быть большое количество блокировок, которые мы не хотим каждый раз загружать в память. В этом случае мы должны сделать выбор между полнотой доменной модели и ее чистотой.
То есть, либо переносить работу с БД в класс Account, либо выносить из него некоторые бизнес правила в application слой.
Я сделал выбор в пользу чистоты доменной модели (на мой взгляд это дает больше пользы).
